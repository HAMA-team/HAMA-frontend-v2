{"openapi":"3.1.0","info":{"title":"HAMA API - Human-in-the-Loop AI íˆ¬ì ì‹œìŠ¤í…œ","description":"# HAMA API Documentation\n\nHuman-in-the-Loop AI íˆ¬ì ì‹œìŠ¤í…œ Backend API\n\n## ì£¼ìš” ê¸°ëŠ¥\n- **Chat Interface**: AI ëŒ€í™” ë° ì‹¤ì‹œê°„ Thinking Trace ìŠ¤íŠ¸ë¦¬ë°\n- **HITL (Human-in-the-Loop)**: ë§¤ë§¤ ìŠ¹ì¸ ì‹œìŠ¤í…œ\n- **Portfolio Management**: í¬íŠ¸í´ë¦¬ì˜¤ ì¡°íšŒ ë° ì°¨íŠ¸ ë°ì´í„°\n- **Real-time Data**: Celery ê¸°ë°˜ ì‹¤ì‹œê°„ ì£¼ê°€ ìºì‹±\n\n## ì¸ì¦\nPhase 1ì—ì„œëŠ” ì¸ì¦ ì—†ì´ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. (Phase 2ì—ì„œ JWT ì¸ì¦ ì¶”ê°€ ì˜ˆì •)\n\n## ì—ëŸ¬ ì½”ë“œ\n| Code | Message | HTTP Status |\n|------|---------|-------------|\n| `VALIDATION_ERROR` | ìš”ì²­ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤ | 422 |\n| `NOT_FOUND` | ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ | 404 |\n| `RATE_LIMIT_EXCEEDED` | ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤ | 429 |\n| `INTERNAL_SERVER_ERROR` | ì„œë²„ ì˜¤ë¥˜ | 500 |\n\n## ê°œë°œ í™˜ê²½\n- **Backend**: http://localhost:8000\n- **Swagger UI**: http://localhost:8000/docs\n- **ReDoc**: http://localhost:8000/redoc\n","version":"v1"},"paths":{"/api/v1/chat/":{"post":{"tags":["chat"],"summary":"Chat","description":"ë©”ì¸ ì±„íŒ… ì—”ë“œí¬ì¸íŠ¸ì…ë‹ˆë‹¤.\n\nì²˜ë¦¬ íë¦„:\n1. ë§ˆìŠ¤í„° ì—ì´ì „íŠ¸ê°€ ì§ˆì˜ë¥¼ ìˆ˜ì‹ í•©ë‹ˆë‹¤.\n2. ì ì ˆí•œ ì„œë¸Œ ì—ì´ì „íŠ¸ë¥¼ ì„ íƒí•´ ì‘ì—…ì„ ë¶„ë°°í•©ë‹ˆë‹¤.\n3. ì„œë¸Œ ì—ì´ì „íŠ¸ê°€ ê²°ê³¼ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n4. ë§ˆìŠ¤í„° ì—ì´ì „íŠ¸ê°€ ê²°ê³¼ë¥¼ í†µí•©í•©ë‹ˆë‹¤.\n5. HITL ì¡°ê±´ì„ í™•ì¸í•˜ê³  ì‘ë‹µì„ ìƒì„±í•©ë‹ˆë‹¤.\n6. ì¤‘ë‹¨ ì§€ì ì´ ìˆëŠ” ê²½ìš° ìŠ¹ì¸ ìš”ì²­ì„ ë°˜í™˜í•©ë‹ˆë‹¤.","operationId":"chat_api_v1_chat__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/history/{conversation_id}":{"get":{"tags":["chat"],"summary":"Get Chat History","description":"íŠ¹ì • ëŒ€í™”ì˜ ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.","operationId":"get_chat_history_api_v1_chat_history__conversation_id__get","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat"],"summary":"Delete Chat History","description":"íŠ¹ì • ëŒ€í™” íˆìŠ¤í† ë¦¬ë¥¼ ì˜êµ¬ ì‚­ì œí•©ë‹ˆë‹¤.","operationId":"delete_chat_history_api_v1_chat_history__conversation_id__delete","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/sessions":{"get":{"tags":["chat"],"summary":"List Chat Sessions","description":"ìµœê·¼ í™œë™ ìˆœìœ¼ë¡œ ì •ë ¬ëœ ì±„íŒ… ì„¸ì…˜ ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.","operationId":"list_chat_sessions_api_v1_chat_sessions_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatSessionSummary"},"title":"Response List Chat Sessions Api V1 Chat Sessions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/approve":{"post":{"tags":["chat"],"summary":"Approve Action","description":"ìŠ¹ì¸ í˜¹ì€ ê±°ë¶€ ê²°ì •ì„ ì²˜ë¦¬í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ì…ë‹ˆë‹¤.\n\nì²˜ë¦¬ íë¦„:\n1. thread_idë¥¼ í†µí•´ ì¤‘ë‹¨ëœ ê·¸ë˜í”„ ìƒíƒœë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\n2. ê²°ì • ê°’ì— ë”°ë¼ Command(resume=...)ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.\n3. ê·¸ë˜í”„ë¥¼ ì¬ê°œí•˜ê³  ìµœì¢… ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.","operationId":"approve_action_api_v1_chat_approve_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/multi-stream":{"post":{"tags":["chat"],"summary":"Multi Agent Stream","description":"ë©€í‹° ì—ì´ì „íŠ¸ ì‹¤í–‰ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°\n\n**Master Agentê°€ ì—¬ëŸ¬ ì„œë¸Œ ì—ì´ì „íŠ¸ë¥¼ ì¡°ìœ¨í•˜ëŠ” ê³¼ì •ì„ ì‹œê°í™”**\n\n**ì‘ë‹µ í˜•ì‹: Server-Sent Events (SSE)**\n\n**ì´ë²¤íŠ¸ íƒ€ì…:**\n- `master_start`: Master Agent ì‹œì‘\n- `master_routing`: ì–´ë–¤ ì—ì´ì „íŠ¸ë“¤ì„ í˜¸ì¶œí• ì§€ ê²°ì •\n- `agent_start`: ì„œë¸Œ ì—ì´ì „íŠ¸ ì‹œì‘\n- `agent_node`: ì—ì´ì „íŠ¸ ë‚´ë¶€ ë…¸ë“œ ì‹¤í–‰ ìƒíƒœ\n- `agent_llm_start`: LLM í˜¸ì¶œ ì‹œì‘\n- `agent_llm_end`: LLM í˜¸ì¶œ ì™„ë£Œ\n- `agent_complete`: ì„œë¸Œ ì—ì´ì „íŠ¸ ì™„ë£Œ\n- `master_aggregating`: Masterê°€ ê²°ê³¼ ì§‘ê³„ ì¤‘\n- `master_complete`: ì „ì²´ ì™„ë£Œ\n- `error`: ì—ëŸ¬ ë°œìƒ\n- `done`: ìŠ¤íŠ¸ë¦¬ë° ì¢…ë£Œ\n\n**Frontend ì‚¬ìš© ì˜ˆì‹œ (React):**\n```javascript\nconst [agentStatus, setAgentStatus] = useState({});\n\nconst eventSource = new EventSource('/api/v1/chat/multi-stream', {\n    method: 'POST',\n    body: JSON.stringify({\n        message: 'ì‚¼ì„±ì „ì ë¶„ì„í•´ì¤˜',\n        user_id: 'user123'\n    })\n});\n\neventSource.addEventListener('master_routing', (event) => {\n    const data = JSON.parse(event.data);\n    console.log('í˜¸ì¶œí•  ì—ì´ì „íŠ¸:', data.agents);\n    // UIì— í‘œì‹œ: Research, Strategy, Risk ì—ì´ì „íŠ¸ í™œì„±í™”\n});\n\neventSource.addEventListener('agent_start', (event) => {\n    const data = JSON.parse(event.data);\n    setAgentStatus(prev => ({\n        ...prev,\n        [data.agent]: 'running'\n    }));\n    // UI: Research Agent ì¹´ë“œì— \"ì‹¤í–‰ ì¤‘\" í‘œì‹œ\n});\n\neventSource.addEventListener('agent_node', (event) => {\n    const data = JSON.parse(event.data);\n    console.log(`${data.agent} - ${data.node}: ${data.status}`);\n    // UI: \"ë°ì´í„° ìˆ˜ì§‘ ì¤‘...\", \"Bull ë¶„ì„ ì¤‘...\" ë“± í‘œì‹œ\n});\n\neventSource.addEventListener('agent_complete', (event) => {\n    const data = JSON.parse(event.data);\n    setAgentStatus(prev => ({\n        ...prev,\n        [data.agent]: 'complete'\n    }));\n    console.log('ê²°ê³¼:', data.result);\n    // UI: Research Agent ì¹´ë“œì— \"ì™„ë£Œ\" + ê²°ê³¼ ìš”ì•½ í‘œì‹œ\n});\n\neventSource.addEventListener('master_complete', (event) => {\n    const data = JSON.parse(event.data);\n    console.log('ìµœì¢… ë‹µë³€:', data.message);\n    // UI: ìµœì¢… ë‹µë³€ í‘œì‹œ\n});\n\neventSource.addEventListener('done', (event) => {\n    eventSource.close();\n});\n```\n\n**Frontend UI ì˜ˆì‹œ:**\n```\n[Master Agent]\nâ”œâ”€ ğŸ“Š Research Agent âœ…\nâ”‚   â”œâ”€ collect_data âœ…\nâ”‚   â”œâ”€ bull_analysis âœ…\nâ”‚   â”œâ”€ bear_analysis âœ…\nâ”‚   â””â”€ consensus âœ…\nâ”‚   ê²°ê³¼: SELL, ëª©í‘œê°€ 90,000ì›\nâ”‚\nâ”œâ”€ ğŸ¯ Strategy Agent âœ…\nâ”‚   â””â”€ ì „ëµ: MOMENTUM\nâ”‚\nâ””â”€ âš ï¸ Risk Agent âœ…\n    â””â”€ ë¦¬ìŠ¤í¬: MEDIUM\n\nìµœì¢… ë‹µë³€: í˜„ì¬ ì‚¼ì„±ì „ìëŠ” SELL ì¶”ì²œì…ë‹ˆë‹¤...\n```","operationId":"multi_agent_stream_api_v1_chat_multi_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultiAgentStreamRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/":{"get":{"tags":["dashboard"],"summary":"Get Dashboard","description":"ëŒ€ì‹œë³´ë“œ í™”ë©´ì— í•„ìš”í•œ ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.","operationId":"get_dashboard_api_v1_dashboard__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardPayload"}}}}}}},"/api/v1/portfolio/":{"get":{"tags":["portfolio"],"summary":"Get Portfolio Overview","description":"ëŒ€ì‹œë³´ë“œì™€ í¬íŠ¸í´ë¦¬ì˜¤ í™”ë©´ì— í•„ìš”í•œ ìš”ì•½ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.","operationId":"get_portfolio_overview_api_v1_portfolio__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioOverview"}}}}}}},"/api/v1/portfolio/{portfolio_id}":{"get":{"tags":["portfolio"],"summary":"Get Portfolio","description":"ì§€ì •í•œ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ì„¸ë¶€ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.","operationId":"get_portfolio_api_v1_portfolio__portfolio_id__get","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/portfolio/{portfolio_id}/performance":{"get":{"tags":["portfolio"],"summary":"Get Portfolio Performance","description":"ì§€ì •í•œ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ì„±ê³¼ ì§€í‘œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.","operationId":"get_portfolio_performance_api_v1_portfolio__portfolio_id__performance_get","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/portfolio/chart-data":{"get":{"tags":["portfolio"],"summary":"Get Portfolio Chart Data","description":"í¬íŠ¸í´ë¦¬ì˜¤ ì°¨íŠ¸ìš© ë°ì´í„° (Treemap, Pie Chart)\n\n**Frontend ì—°ë™:**\n- Treemap: ì¢…ëª©ë³„ ë¹„ì¤‘ + ìˆ˜ìµë¥  ìƒ‰ìƒ\n- Pie Chart: ì„¹í„°ë³„ ë¹„ì¤‘\n\n**Response:**\n```json\n{\n    \"stocks\": [\n        {\n            \"stock_code\": \"005930\",\n            \"stock_name\": \"ì‚¼ì„±ì „ì\",\n            \"quantity\": 10,\n            \"current_price\": 76300,\n            \"purchase_price\": 70000,\n            \"weight\": 0.35,\n            \"return_percent\": 9.0,\n            \"sector\": \"ë°˜ë„ì²´\",\n            \"color\": \"#10B981\"\n        }\n    ],\n    \"total_value\": 10000000,\n    \"total_return\": 900000,\n    \"total_return_percent\": 9.0,\n    \"cash\": 1000000,\n    \"cash_weight\": 0.1,\n    \"sectors\": {\n        \"ë°˜ë„ì²´\": {\n            \"weight\": 0.45,\n            \"value\": 4500000,\n            \"color\": \"#8B5CF6\"\n        },\n        \"ë°°í„°ë¦¬\": {\n            \"weight\": 0.30,\n            \"value\": 3000000,\n            \"color\": \"#F59E0B\"\n        },\n        \"í˜„ê¸ˆ\": {\n            \"weight\": 0.10,\n            \"value\": 1000000,\n            \"color\": \"#6B7280\"\n        }\n    }\n}\n```","operationId":"get_portfolio_chart_data_api_v1_portfolio_chart_data_get","parameters":[{"name":"portfolio_id","in":"query","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/portfolio/{portfolio_id}/rebalance":{"post":{"tags":["portfolio"],"summary":"Rebalance Portfolio","description":"í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ë°¸ëŸ°ì‹± ì œì•ˆê³¼ ì˜ˆìƒ ì§€í‘œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.","operationId":"rebalance_portfolio_api_v1_portfolio__portfolio_id__rebalance_post","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stocks/search":{"get":{"tags":["stocks"],"summary":"Search Stocks","description":"ì¢…ëª©ëª… ë˜ëŠ” ì¢…ëª©ì½”ë“œë¡œ ì£¼ì‹ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤.","operationId":"search_stocks_api_v1_stocks_search_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":1,"title":"Q"}},{"name":"market","in":"query","required":false,"schema":{"type":"string","default":"KOSPI","title":"Market"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stocks/{stock_code}":{"get":{"tags":["stocks"],"summary":"Get Stock Info","description":"íŠ¹ì • ì¢…ëª©ì˜ ê¸°ë³¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.","operationId":"get_stock_info_api_v1_stocks__stock_code__get","parameters":[{"name":"stock_code","in":"path","required":true,"schema":{"type":"string","title":"Stock Code"}},{"name":"market","in":"query","required":false,"schema":{"type":"string","default":"KOSPI","title":"Market"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stocks/{stock_code}/price-history":{"get":{"tags":["stocks"],"summary":"Get Price History","description":"íŠ¹ì • ì¢…ëª©ì˜ ê¸°ê°„ë³„ ì£¼ê°€ íˆìŠ¤í† ë¦¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.","operationId":"get_price_history_api_v1_stocks__stock_code__price_history_get","parameters":[{"name":"stock_code","in":"path","required":true,"schema":{"type":"string","title":"Stock Code"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stocks/{stock_code}/analysis":{"get":{"tags":["stocks"],"summary":"Get Stock Analysis","description":"ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•´ ì¢…í•© ì¢…ëª© ë¶„ì„ì„ ì œê³µí•©ë‹ˆë‹¤.","operationId":"get_stock_analysis_api_v1_stocks__stock_code__analysis_get","parameters":[{"name":"stock_code","in":"path","required":true,"schema":{"type":"string","title":"Stock Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/settings/automation-level":{"get":{"tags":["settings"],"summary":"Get Automation Level","description":"í˜„ì¬ ìë™í™” ë ˆë²¨ ì¡°íšŒ\n\nìë™í™” ë ˆë²¨:\n- 1 (Pilot): AIê°€ ê±°ì˜ ëª¨ë“  ê²ƒì„ ì²˜ë¦¬\n- 2 (Copilot): AIê°€ ì œì•ˆ, í° ê²°ì •ë§Œ ìŠ¹ì¸ (ê¸°ë³¸ê°’)\n- 3 (Advisor): AIëŠ” ì •ë³´ë§Œ ì œê³µ, ì‚¬ìš©ìê°€ ê²°ì •","operationId":"get_automation_level_api_v1_settings_automation_level_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationLevelResponse"}}}}}},"put":{"tags":["settings"],"summary":"Update Automation Level","description":"ìë™í™” ë ˆë²¨ ë³€ê²½\n\nRequest:\n```json\n{\n    \"level\": 3,\n    \"confirm\": true\n}\n```\n\në³€ê²½ ì˜í–¥:\n- Level 1 â†’ 2: í–¥í›„ ë§¤ë§¤ ì‹œ ìŠ¹ì¸ í•„ìš”\n- Level 2 â†’ 1: í–¥í›„ ë§¤ë§¤ê°€ ìë™ ì‹¤í–‰ (ê³ ìœ„í—˜ë§Œ ìŠ¹ì¸)\n- Level 2 â†’ 3: í–¥í›„ ëª¨ë“  ê²°ì •ì— ìŠ¹ì¸ í•„ìš”","operationId":"update_automation_level_api_v1_settings_automation_level_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationLevelUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationLevelUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/settings/automation-levels":{"get":{"tags":["settings"],"summary":"List Automation Levels","description":"ì‚¬ìš© ê°€ëŠ¥í•œ ìë™í™” ë ˆë²¨ ëª©ë¡\n\nResponse:\n```json\n{\n    \"levels\": [\n        {\n            \"level\": 1,\n            \"name\": \"íŒŒì¼ëŸ¿\",\n            \"description\": \"...\",\n            \"interrupt_points\": [...],\n            \"detail\": \"...\"\n        },\n        ...\n    ]\n}\n```","operationId":"list_automation_levels_api_v1_settings_automation_levels_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/artifacts/":{"post":{"tags":["artifacts"],"summary":"Create Artifact","description":"Artifact ìƒì„±\n\n**Request Body:**\n```json\n{\n    \"title\": \"ì‚¼ì„±ì „ì ë¶„ì„ ê²°ê³¼\",\n    \"content\": \"## ì‚¼ì„±ì „ì ì¢…í•© ë¶„ì„\\n\\n### ì¬ë¬´ ë¶„ì„\\n...\",\n    \"artifact_type\": \"analysis\",\n    \"metadata\": {\n        \"stock_code\": \"005930\",\n        \"stock_name\": \"ì‚¼ì„±ì „ì\",\n        \"created_from_message_id\": \"550e8400-e29b-41d4-a716-446655440000\"\n    }\n}\n```\n\n**Artifact Types:**\n- `analysis`: ì¢…ëª© ë¶„ì„ ê²°ê³¼\n- `portfolio`: í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„±\n- `strategy`: íˆ¬ì ì „ëµ\n- `research`: ë¦¬ì„œì¹˜ ë³´ê³ ì„œ\n- `risk_report`: ë¦¬ìŠ¤í¬ ë¶„ì„\n\n**Response:**\n- ìƒì„±ëœ Artifact ì „ì²´ ì •ë³´\n- `artifact_id`ë¥¼ ì €ì¥í•˜ì—¬ ë‚˜ì¤‘ì— ì¡°íšŒ/ìˆ˜ì • ê°€ëŠ¥","operationId":"create_artifact_api_v1_artifacts__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtifactCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtifactResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["artifacts"],"summary":"List Artifacts","description":"Artifact ëª©ë¡ ì¡°íšŒ\n\n**Query Parameters:**\n- `artifact_type` (ì„ íƒ): íŠ¹ì • íƒ€ì…ë§Œ ì¡°íšŒ (ì˜ˆ: `analysis`)\n- `limit`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20, ìµœëŒ€: 100)\n- `offset`: ì˜¤í”„ì…‹ (ê¸°ë³¸ê°’: 0)\n\n**Response:**\n```json\n{\n    \"items\": [\n        {\n            \"artifact_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"title\": \"ì‚¼ì„±ì „ì ë¶„ì„ ê²°ê³¼\",\n            \"artifact_type\": \"analysis\",\n            \"preview\": \"ì‚¼ì„±ì „ì ì¢…í•© ë¶„ì„: ì¬ë¬´ ë¶„ì„ ê²°ê³¼...\",\n            \"created_at\": \"2025-10-26T10:00:00Z\"\n        }\n    ],\n    \"total\": 42,\n    \"limit\": 20,\n    \"offset\": 0\n}\n```\n\n**ì‚¬ìš© ì˜ˆ:**\n- ëª¨ë“  Artifact: `GET /artifacts`\n- ë¶„ì„ë§Œ: `GET /artifacts?artifact_type=analysis`\n- 2í˜ì´ì§€: `GET /artifacts?limit=20&offset=20`","operationId":"list_artifacts_api_v1_artifacts__get","parameters":[{"name":"artifact_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"í•„í„°ë§í•  íƒ€ì… (analysis, portfolio, strategy ë“±)","title":"Artifact Type"},"description":"í•„í„°ë§í•  íƒ€ì… (analysis, portfolio, strategy ë“±)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"í˜ì´ì§€ í¬ê¸°","default":20,"title":"Limit"},"description":"í˜ì´ì§€ í¬ê¸°"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"ì˜¤í”„ì…‹","default":0,"title":"Offset"},"description":"ì˜¤í”„ì…‹"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtifactListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/artifacts/{artifact_id}":{"get":{"tags":["artifacts"],"summary":"Get Artifact","description":"Artifact ìƒì„¸ ì¡°íšŒ\n\n**Path Parameters:**\n- `artifact_id`: Artifact UUID\n\n**Response:**\n- Artifact ì „ì²´ ì •ë³´ (title, content, metadata ë“±)\n\n**ì—ëŸ¬:**\n- `404`: Artifactê°€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ì‚­ì œë¨","operationId":"get_artifact_api_v1_artifacts__artifact_id__get","parameters":[{"name":"artifact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Artifact Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtifactResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["artifacts"],"summary":"Update Artifact","description":"Artifact ìˆ˜ì •\n\n**Path Parameters:**\n- `artifact_id`: Artifact UUID\n\n**Request Body:**\n```json\n{\n    \"title\": \"ì‚¼ì„±ì „ì ë¶„ì„ ê²°ê³¼ (ìˆ˜ì •ë¨)\",\n    \"content\": \"## ì—…ë°ì´íŠ¸ëœ ë¶„ì„\\n...\",\n    \"metadata\": {\n        \"updated_reason\": \"ìµœì‹  ì¬ë¬´ì œí‘œ ë°˜ì˜\"\n    }\n}\n```\n\n**ì°¸ê³ :**\n- ìˆ˜ì •í•˜ì§€ ì•Šì„ í•„ë“œëŠ” ìƒëµ ê°€ëŠ¥\n- `content` ìˆ˜ì • ì‹œ `preview`ë„ ìë™ ì—…ë°ì´íŠ¸\n\n**ì—ëŸ¬:**\n- `404`: Artifactê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ","operationId":"update_artifact_api_v1_artifacts__artifact_id__put","parameters":[{"name":"artifact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Artifact Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtifactUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtifactResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["artifacts"],"summary":"Delete Artifact","description":"Artifact ì‚­ì œ (ì†Œí”„íŠ¸ ì‚­ì œ)\n\n**Path Parameters:**\n- `artifact_id`: Artifact UUID\n\n**ì°¸ê³ :**\n- ì‹¤ì œë¡œëŠ” ì†Œí”„íŠ¸ ì‚­ì œ (deleted_at íƒ€ì„ìŠ¤íƒ¬í”„ ì„¤ì •)\n- ëª©ë¡ ì¡°íšŒ ì‹œ í‘œì‹œë˜ì§€ ì•ŠìŒ\n\n**ì—ëŸ¬:**\n- `404`: Artifactê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ","operationId":"delete_artifact_api_v1_artifacts__artifact_id__delete","parameters":[{"name":"artifact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Artifact Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/approvals/":{"get":{"tags":["approvals"],"summary":"List Approval History","description":"ìŠ¹ì¸ ì´ë ¥ ëª©ë¡ ì¡°íšŒ\n\n**Query Parameters:**\n- `status` (ì„ íƒ): ìƒíƒœë³„ í•„í„°ë§\n  - `pending`: ëŒ€ê¸° ì¤‘\n  - `approved`: ìŠ¹ì¸ë¨\n  - `rejected`: ê±°ë¶€ë¨\n  - `modified`: ìˆ˜ì • í›„ ìŠ¹ì¸\n- `request_type` (ì„ íƒ): ìš”ì²­ íƒ€ì…ë³„ í•„í„°ë§ (ì˜ˆ: `trade`, `rebalance`)\n- `limit`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20, ìµœëŒ€: 100)\n- `offset`: ì˜¤í”„ì…‹ (ê¸°ë³¸ê°’: 0)\n\n**Response:**\n```json\n{\n    \"items\": [\n        {\n            \"request_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"request_type\": \"trade\",\n            \"request_title\": \"ì‚¼ì„±ì „ì ë§¤ìˆ˜ ìŠ¹ì¸ ìš”ì²­\",\n            \"status\": \"approved\",\n            \"decision\": \"approved\",\n            \"created_at\": \"2025-10-26T10:00:00Z\",\n            \"decided_at\": \"2025-10-26T10:05:00Z\",\n            \"stock_code\": \"005930\",\n            \"action\": \"buy\",\n            \"amount\": 10000000\n        }\n    ],\n    \"total\": 42,\n    \"limit\": 20,\n    \"offset\": 0\n}\n```\n\n**ì‚¬ìš© ì˜ˆ:**\n- ëª¨ë“  ì´ë ¥: `GET /approvals`\n- ëŒ€ê¸° ì¤‘ë§Œ: `GET /approvals?status=pending`\n- ìŠ¹ì¸ë¨ë§Œ: `GET /approvals?status=approved`\n- ë§¤ë§¤ ìš”ì²­ë§Œ: `GET /approvals?request_type=trade`\n- 2í˜ì´ì§€: `GET /approvals?limit=20&offset=20`","operationId":"list_approval_history_api_v1_approvals__get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"í•„í„°ë§í•  ìƒíƒœ (pending, approved, rejected, modified)","title":"Status"},"description":"í•„í„°ë§í•  ìƒíƒœ (pending, approved, rejected, modified)"},{"name":"request_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"í•„í„°ë§í•  ìš”ì²­ íƒ€ì… (trade, rebalance, strategy ë“±)","title":"Request Type"},"description":"í•„í„°ë§í•  ìš”ì²­ íƒ€ì… (trade, rebalance, strategy ë“±)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"í˜ì´ì§€ í¬ê¸°","default":20,"title":"Limit"},"description":"í˜ì´ì§€ í¬ê¸°"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"ì˜¤í”„ì…‹","default":0,"title":"Offset"},"description":"ì˜¤í”„ì…‹"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalHistoryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/approvals/{request_id}":{"get":{"tags":["approvals"],"summary":"Get Approval Detail","description":"ìŠ¹ì¸ ìƒì„¸ ì •ë³´ ì¡°íšŒ\n\n**Path Parameters:**\n- `request_id`: ìŠ¹ì¸ ìš”ì²­ UUID\n\n**Response:**\n```json\n{\n    \"request_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"user_id\": \"660e8400-e29b-41d4-a716-446655440001\",\n    \"request_type\": \"trade\",\n    \"request_title\": \"ì‚¼ì„±ì „ì ë§¤ìˆ˜ ìŠ¹ì¸ ìš”ì²­\",\n    \"request_description\": \"AIê°€ ë¶„ì„í•œ ë§¤ìˆ˜ ê¸°íšŒì…ë‹ˆë‹¤.\",\n    \"status\": \"approved\",\n    \"proposed_actions\": {\n        \"action\": \"buy\",\n        \"stock_code\": \"005930\",\n        \"stock_name\": \"ì‚¼ì„±ì „ì\",\n        \"quantity\": 131,\n        \"price\": 76300,\n        \"total_amount\": 10000000\n    },\n    \"impact_analysis\": {\n        \"current_weight\": 0.25,\n        \"expected_weight\": 0.43,\n        \"expected_return\": 0.12\n    },\n    \"risk_warnings\": [\"ë‹¨ì¼ ì¢…ëª© ì§‘ì¤‘ë„ê°€ 40%ë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤\"],\n    \"alternatives\": {...},\n    \"created_at\": \"2025-10-26T10:00:00Z\",\n    \"responded_at\": \"2025-10-26T10:05:00Z\",\n    \"expires_at\": \"2025-10-26T12:00:00Z\",\n    \"decision\": \"approved\",\n    \"decided_at\": \"2025-10-26T10:05:00Z\",\n    \"selected_option\": \"original\",\n    \"modifications\": null,\n    \"user_notes\": \"ë¶„ì„ ê²°ê³¼ê°€ í•©ë¦¬ì ì„\"\n}\n```\n\n**ì—ëŸ¬:**\n- `404`: ìŠ¹ì¸ ìš”ì²­ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ","operationId":"get_approval_detail_api_v1_approvals__request_id__get","parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Request Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ë³¸ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ì…ë‹ˆë‹¤.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health","description":"ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì—¬ë¶€ ë“± ìƒì„¸ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ì…ë‹ˆë‹¤.","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AccountConnection":{"properties":{"broker":{"type":"string","title":"Broker"},"account_number":{"type":"string","title":"Account Number"},"status":{"type":"string","title":"Status"},"last_synced_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Synced At"}},"type":"object","required":["broker","account_number","status"],"title":"AccountConnection","description":"ì¦ê¶Œ ê³„ì¢Œ ì—°ê²° ìƒíƒœ ì •ë³´"},"ActivityItem":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","title":"Type"},"icon":{"type":"string","title":"Icon"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"},"status":{"type":"string","title":"Status"},"amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Amount"}},"type":"object","required":["id","type","icon","title","description","status"],"title":"ActivityItem","description":"ìµœê·¼ í™œë™ ì´ë ¥"},"AllocationItem":{"properties":{"name":{"type":"string","title":"Name"},"value":{"type":"number","title":"Value"},"percentage":{"type":"number","title":"Percentage"}},"type":"object","required":["name","value","percentage"],"title":"AllocationItem","description":"ë°°ë¶„ ì •ë³´ í•­ëª©"},"ApprovalDetailResponse":{"properties":{"request_id":{"type":"string","format":"uuid","title":"Request Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"request_type":{"type":"string","title":"Request Type"},"request_title":{"type":"string","title":"Request Title"},"request_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Description"},"status":{"type":"string","title":"Status"},"proposed_actions":{"additionalProperties":true,"type":"object","title":"Proposed Actions"},"impact_analysis":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Impact Analysis"},"risk_warnings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Risk Warnings"},"alternatives":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Alternatives"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"responded_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Responded At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"decision":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Decision"},"decided_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Decided At"},"selected_option":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Selected Option"},"modifications":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Modifications"},"user_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Notes"}},"type":"object","required":["request_id","user_id","request_type","request_title","request_description","status","proposed_actions","impact_analysis","risk_warnings","alternatives","created_at","responded_at","expires_at"],"title":"ApprovalDetailResponse","description":"ìŠ¹ì¸ ìƒì„¸ ì •ë³´ ì‘ë‹µ","example":{"alternatives":{"option1":{"description":"ìˆ˜ëŸ‰ì„ 50% ì¤„ì—¬ì„œ ë§¤ìˆ˜"},"option2":{"description":"ë‹¤ë¥¸ ì¢…ëª©ìœ¼ë¡œ ë¶„ì‚°"}},"created_at":"2025-10-26T10:00:00Z","decided_at":"2025-10-26T10:05:00Z","decision":"approved","expires_at":"2025-10-26T12:00:00Z","impact_analysis":{"current_weight":0.25,"expected_return":0.12,"expected_weight":0.43},"proposed_actions":{"action":"buy","price":76300,"quantity":131,"stock_code":"005930","stock_name":"ì‚¼ì„±ì „ì","total_amount":10000000},"request_description":"AIê°€ ë¶„ì„í•œ ë§¤ìˆ˜ ê¸°íšŒì…ë‹ˆë‹¤.","request_id":"550e8400-e29b-41d4-a716-446655440000","request_title":"ì‚¼ì„±ì „ì ë§¤ìˆ˜ ìŠ¹ì¸ ìš”ì²­","request_type":"trade","responded_at":"2025-10-26T10:05:00Z","risk_warnings":["ë‹¨ì¼ ì¢…ëª© ì§‘ì¤‘ë„ê°€ 40%ë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤"],"selected_option":"original","status":"approved","user_id":"660e8400-e29b-41d4-a716-446655440001","user_notes":"ë¶„ì„ ê²°ê³¼ê°€ í•©ë¦¬ì ì„"}},"ApprovalHistoryItem":{"properties":{"request_id":{"type":"string","format":"uuid","title":"Request Id"},"request_type":{"type":"string","title":"Request Type"},"request_title":{"type":"string","title":"Request Title"},"status":{"type":"string","title":"Status"},"decision":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Decision"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"decided_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Decided At"},"stock_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stock Code"},"action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount"}},"type":"object","required":["request_id","request_type","request_title","status","created_at"],"title":"ApprovalHistoryItem","description":"ìŠ¹ì¸ ì´ë ¥ ëª©ë¡ ì•„ì´í…œ","example":{"action":"buy","amount":10000000,"created_at":"2025-10-26T10:00:00Z","decided_at":"2025-10-26T10:05:00Z","decision":"approved","request_id":"550e8400-e29b-41d4-a716-446655440000","request_title":"ì‚¼ì„±ì „ì ë§¤ìˆ˜ ìŠ¹ì¸ ìš”ì²­","request_type":"trade","status":"approved","stock_code":"005930"}},"ApprovalHistoryListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ApprovalHistoryItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"ApprovalHistoryListResponse","description":"ìŠ¹ì¸ ì´ë ¥ ëª©ë¡ ì‘ë‹µ","example":{"items":[{"action":"buy","amount":10000000,"created_at":"2025-10-26T10:00:00Z","decided_at":"2025-10-26T10:05:00Z","decision":"approved","request_id":"550e8400-e29b-41d4-a716-446655440000","request_title":"ì‚¼ì„±ì „ì ë§¤ìˆ˜ ìŠ¹ì¸ ìš”ì²­","request_type":"trade","status":"approved","stock_code":"005930"}],"limit":20,"offset":0,"total":42}},"ApprovalRequest":{"properties":{"thread_id":{"type":"string","title":"Thread Id","description":"ëŒ€í™” ìŠ¤ë ˆë“œ ID"},"decision":{"type":"string","title":"Decision","description":"ìŠ¹ì¸ ê²°ì •: approved, rejected, modified"},"automation_level":{"type":"integer","maximum":3.0,"minimum":1.0,"title":"Automation Level","default":2},"modifications":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Modifications"},"user_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Notes"}},"type":"object","required":["thread_id","decision"],"title":"ApprovalRequest","description":"ìŠ¹ì¸ ìš”ì²­ ìŠ¤í‚¤ë§ˆ"},"ApprovalResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"conversation_id":{"type":"string","title":"Conversation Id"},"result":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Result"}},"type":"object","required":["status","message","conversation_id"],"title":"ApprovalResponse","description":"ìŠ¹ì¸ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ"},"ArtifactCreate":{"properties":{"title":{"type":"string","maxLength":500,"minLength":1,"title":"Title","description":"Artifact ì œëª©"},"content":{"type":"string","minLength":1,"title":"Content","description":"Markdown í˜•ì‹ì˜ ì½˜í…ì¸ "},"artifact_type":{"type":"string","title":"Artifact Type","description":"Artifact íƒ€ì… (analysis, portfolio, strategy, research, risk_report)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"ë©”íƒ€ë°ì´í„° (stock_code, created_from_message_id ë“±)"}},"type":"object","required":["title","content","artifact_type"],"title":"ArtifactCreate","description":"Artifact ìƒì„± ìš”ì²­"},"ArtifactListItem":{"properties":{"artifact_id":{"type":"string","format":"uuid","title":"Artifact Id"},"title":{"type":"string","title":"Title"},"artifact_type":{"type":"string","title":"Artifact Type"},"preview":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preview"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["artifact_id","title","artifact_type","preview","created_at"],"title":"ArtifactListItem","description":"Artifact ëª©ë¡ ì•„ì´í…œ (ìš”ì•½ ì •ë³´)"},"ArtifactListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ArtifactListItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"ArtifactListResponse","description":"Artifact ëª©ë¡ ì‘ë‹µ"},"ArtifactResponse":{"properties":{"artifact_id":{"type":"string","format":"uuid","title":"Artifact Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"artifact_type":{"type":"string","title":"Artifact Type"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"preview":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preview"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["artifact_id","user_id","title","content","artifact_type","metadata","preview","created_at","updated_at"],"title":"ArtifactResponse","description":"Artifact ì‘ë‹µ"},"ArtifactUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":500,"minLength":1},{"type":"null"}],"title":"Title"},"content":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Content"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"ArtifactUpdate","description":"Artifact ìˆ˜ì • ìš”ì²­"},"AutomationLevelResponse":{"properties":{"level":{"type":"integer","maximum":3.0,"minimum":1.0,"title":"Level","description":"ìë™í™” ë ˆë²¨ (1=Pilot, 2=Copilot, 3=Advisor)"},"level_name":{"type":"string","title":"Level Name","description":"ë ˆë²¨ ëª…ì¹­"},"description":{"type":"string","title":"Description","description":"ë ˆë²¨ ì„¤ëª…"},"interrupt_points":{"items":{"type":"string"},"type":"array","title":"Interrupt Points","description":"HITL ê°œì… ì§€ì "}},"type":"object","required":["level","level_name","description","interrupt_points"],"title":"AutomationLevelResponse","description":"ìë™í™” ë ˆë²¨ ì¡°íšŒ ì‘ë‹µ"},"AutomationLevelUpdateRequest":{"properties":{"level":{"type":"integer","maximum":3.0,"minimum":1.0,"title":"Level","description":"ë³€ê²½í•  ìë™í™” ë ˆë²¨"},"confirm":{"type":"boolean","title":"Confirm","description":"ë³€ê²½ í™•ì¸","default":false}},"type":"object","required":["level"],"title":"AutomationLevelUpdateRequest","description":"ìë™í™” ë ˆë²¨ ë³€ê²½ ìš”ì²­"},"AutomationLevelUpdateResponse":{"properties":{"level":{"type":"integer","title":"Level"},"message":{"type":"string","title":"Message"}},"type":"object","required":["level","message"],"title":"AutomationLevelUpdateResponse","description":"ìë™í™” ë ˆë²¨ ë³€ê²½ ì‘ë‹µ"},"AutomationSettings":{"properties":{"level":{"type":"integer","title":"Level"},"level_name":{"type":"string","title":"Level Name"},"enabled":{"type":"boolean","title":"Enabled"}},"type":"object","required":["level","level_name","enabled"],"title":"AutomationSettings","description":"ìë™í™” ì„¤ì • ì •ë³´"},"ChatRequest":{"properties":{"message":{"type":"string","title":"Message"},"conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Id"},"automation_level":{"type":"integer","maximum":3.0,"minimum":1.0,"title":"Automation Level","description":"ìë™í™” ë ˆë²¨: 1=Pilot, 2=Copilot, 3=Advisor","default":2}},"type":"object","required":["message"],"title":"ChatRequest","description":"ì±„íŒ… ìš”ì²­ ìŠ¤í‚¤ë§ˆ"},"ChatResponse":{"properties":{"message":{"type":"string","title":"Message"},"conversation_id":{"type":"string","title":"Conversation Id"},"requires_approval":{"type":"boolean","title":"Requires Approval","default":false},"approval_request":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Approval Request"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["message","conversation_id"],"title":"ChatResponse","description":"ì±„íŒ… ì‘ë‹µ ìŠ¤í‚¤ë§ˆ"},"ChatSessionSummary":{"properties":{"conversation_id":{"type":"string","title":"Conversation Id"},"title":{"type":"string","title":"Title"},"last_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Message"},"last_message_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Message At"},"automation_level":{"type":"integer","title":"Automation Level"},"message_count":{"type":"integer","title":"Message Count"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["conversation_id","title","automation_level","message_count"],"title":"ChatSessionSummary","description":"ì±„íŒ… ì„¸ì…˜ ìš”ì•½ ìŠ¤í‚¤ë§ˆ"},"DashboardPayload":{"properties":{"total_assets":{"$ref":"#/components/schemas/TotalAssets"},"account_connection":{"$ref":"#/components/schemas/AccountConnection"},"automation_settings":{"$ref":"#/components/schemas/AutomationSettings"},"recent_activities":{"items":{"$ref":"#/components/schemas/ActivityItem"},"type":"array","title":"Recent Activities"},"top_holdings":{"items":{"$ref":"#/components/schemas/HoldingHighlight"},"type":"array","title":"Top Holdings"},"performance_summary":{"$ref":"#/components/schemas/PerformanceSummary"}},"type":"object","required":["total_assets","account_connection","automation_settings","recent_activities","top_holdings","performance_summary"],"title":"DashboardPayload","description":"ëŒ€ì‹œë³´ë“œ API ì‘ë‹µ í˜ì´ë¡œë“œ"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HoldingHighlight":{"properties":{"stock_code":{"type":"string","title":"Stock Code"},"stock_name":{"type":"string","title":"Stock Name"},"quantity":{"type":"integer","title":"Quantity"},"value":{"type":"number","title":"Value"},"profit_rate":{"type":"number","title":"Profit Rate"},"weight":{"type":"number","title":"Weight"}},"type":"object","required":["stock_code","stock_name","quantity","value","profit_rate","weight"],"title":"HoldingHighlight","description":"ìƒìœ„ ë³´ìœ  ì¢…ëª© ìš”ì•½"},"MultiAgentStreamRequest":{"properties":{"message":{"type":"string","title":"Message"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Id"},"automation_level":{"type":"integer","maximum":3.0,"minimum":1.0,"title":"Automation Level","default":2}},"type":"object","required":["message"],"title":"MultiAgentStreamRequest","description":"ë©€í‹° ì—ì´ì „íŠ¸ ìŠ¤íŠ¸ë¦¬ë° ìš”ì²­"},"PerformancePeriod":{"properties":{"profit":{"type":"number","title":"Profit"},"profit_rate":{"type":"number","title":"Profit Rate"}},"type":"object","required":["profit","profit_rate"],"title":"PerformancePeriod","description":"ê¸°ê°„ë³„ ì„±ê³¼ ì§€í‘œ"},"PerformanceSummary":{"properties":{"today":{"$ref":"#/components/schemas/PerformancePeriod"},"week":{"$ref":"#/components/schemas/PerformancePeriod"},"month":{"$ref":"#/components/schemas/PerformancePeriod"},"year":{"$ref":"#/components/schemas/PerformancePeriod"}},"type":"object","required":["today","week","month","year"],"title":"PerformanceSummary","description":"ê¸°ê°„ë³„ ì„±ê³¼ ìš”ì•½"},"PortfolioAllocation":{"properties":{"sectors":{"items":{"$ref":"#/components/schemas/AllocationItem"},"type":"array","title":"Sectors"},"asset_classes":{"items":{"$ref":"#/components/schemas/AllocationItem"},"type":"array","title":"Asset Classes"}},"type":"object","required":["sectors","asset_classes"],"title":"PortfolioAllocation","description":"ìì‚° ë° ì„¹í„° ë°°ë¶„ ì •ë³´"},"PortfolioChartData":{"properties":{"stocks":{"items":{"$ref":"#/components/schemas/StockChartData"},"type":"array","title":"Stocks","description":"ë³´ìœ  ì¢…ëª© ëª©ë¡"},"total_value":{"type":"number","minimum":0.0,"title":"Total Value","description":"ì´ í‰ê°€ê¸ˆì•¡ (ì›)"},"total_return":{"type":"number","title":"Total Return","description":"ì´ ìˆ˜ìµê¸ˆ (ì›)"},"total_return_percent":{"type":"number","title":"Total Return Percent","description":"ì´ ìˆ˜ìµë¥  (%)"},"cash":{"type":"number","minimum":0.0,"title":"Cash","description":"í˜„ê¸ˆ ë³´ìœ ì•¡ (ì›)"},"sectors":{"additionalProperties":{"type":"number"},"type":"object","title":"Sectors","description":"ì„¹í„°ë³„ ë¹„ì¤‘ (0~1)"}},"type":"object","required":["stocks","total_value","total_return","total_return_percent","cash","sectors"],"title":"PortfolioChartData","description":"í¬íŠ¸í´ë¦¬ì˜¤ ì°¨íŠ¸ ë°ì´í„°\n\nFrontend Recharts ì—°ë™ìš© ë°ì´í„° êµ¬ì¡°"},"PortfolioHoldingItem":{"properties":{"stock_code":{"type":"string","title":"Stock Code"},"stock_name":{"type":"string","title":"Stock Name"},"quantity":{"type":"integer","title":"Quantity"},"avg_price":{"type":"number","title":"Avg Price"},"current_price":{"type":"number","title":"Current Price"},"market_value":{"type":"number","title":"Market Value"},"profit":{"type":"number","title":"Profit"},"profit_rate":{"type":"number","title":"Profit Rate"},"weight":{"type":"number","title":"Weight"}},"type":"object","required":["stock_code","stock_name","quantity","avg_price","current_price","market_value","profit","profit_rate","weight"],"title":"PortfolioHoldingItem","description":"ë³´ìœ  ì¢…ëª© ì„¸ë¶€ ì •ë³´"},"PortfolioOverview":{"properties":{"summary":{"$ref":"#/components/schemas/PortfolioSummarySection"},"holdings":{"items":{"$ref":"#/components/schemas/PortfolioHoldingItem"},"type":"array","title":"Holdings"},"allocation":{"$ref":"#/components/schemas/PortfolioAllocation"}},"type":"object","required":["summary","holdings","allocation"],"title":"PortfolioOverview","description":"í¬íŠ¸í´ë¦¬ì˜¤ ì˜¤ë²„ë·° ì‘ë‹µ í˜ì´ë¡œë“œ"},"PortfolioSummary":{"properties":{"portfolio_id":{"type":"string","title":"Portfolio Id"},"total_value":{"type":"string","title":"Total Value"},"cash_balance":{"type":"string","title":"Cash Balance"},"invested_amount":{"type":"string","title":"Invested Amount"},"total_return":{"type":"string","title":"Total Return"},"positions":{"items":{"$ref":"#/components/schemas/Position"},"type":"array","title":"Positions"},"risk_profile":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Risk Profile"},"last_updated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Updated"}},"type":"object","required":["portfolio_id","total_value","cash_balance","invested_amount","total_return","positions"],"title":"PortfolioSummary","description":"í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½"},"PortfolioSummarySection":{"properties":{"total_value":{"type":"number","title":"Total Value"},"principal":{"type":"number","title":"Principal"},"profit":{"type":"number","title":"Profit"},"profit_rate":{"type":"number","title":"Profit Rate"},"cash":{"type":"number","title":"Cash"},"cash_percentage":{"type":"number","title":"Cash Percentage"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["total_value","principal","profit","profit_rate","cash","cash_percentage"],"title":"PortfolioSummarySection","description":"í¬íŠ¸í´ë¦¬ì˜¤ ì „ì²´ ìš”ì•½ ì •ë³´"},"Position":{"properties":{"stock_code":{"type":"string","title":"Stock Code"},"stock_name":{"type":"string","title":"Stock Name"},"quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quantity"},"average_price":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Average Price"},"current_price":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Price"},"market_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Market Value"},"unrealized_pnl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unrealized Pnl"},"unrealized_pnl_rate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unrealized Pnl Rate"},"weight":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Weight"},"sector":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sector"}},"type":"object","required":["stock_code","stock_name"],"title":"Position","description":"í¬íŠ¸í´ë¦¬ì˜¤ ë³´ìœ  ì¢…ëª©"},"StockChartData":{"properties":{"stock_code":{"type":"string","title":"Stock Code","description":"ì¢…ëª© ì½”ë“œ"},"stock_name":{"type":"string","title":"Stock Name","description":"ì¢…ëª©ëª…"},"quantity":{"type":"integer","minimum":0.0,"title":"Quantity","description":"ë³´ìœ  ìˆ˜ëŸ‰"},"current_price":{"type":"number","minimum":0.0,"title":"Current Price","description":"í˜„ì¬ê°€ (ì›)"},"purchase_price":{"type":"number","minimum":0.0,"title":"Purchase Price","description":"ë§¤ìˆ˜ê°€ (ì›)"},"weight":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Weight","description":"ë¹„ì¤‘ (0~1)"},"return_percent":{"type":"number","title":"Return Percent","description":"ìˆ˜ìµë¥  (%)"},"sector":{"type":"string","title":"Sector","description":"ì„¹í„°"}},"type":"object","required":["stock_code","stock_name","quantity","current_price","purchase_price","weight","return_percent","sector"],"title":"StockChartData","description":"ì°¨íŠ¸ìš© ì¢…ëª© ë°ì´í„°"},"StockInfo":{"properties":{"stock_code":{"type":"string","title":"Stock Code"},"stock_name":{"type":"string","title":"Stock Name"},"market":{"type":"string","title":"Market"},"sector":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sector"},"current_price":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Price"},"change_rate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Change Rate"},"volume":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Volume"}},"type":"object","required":["stock_code","stock_name","market","sector","current_price","change_rate","volume"],"title":"StockInfo","description":"ì£¼ì‹ ê¸°ë³¸ ì •ë³´"},"TotalAssets":{"properties":{"value":{"type":"number","title":"Value"},"profit":{"type":"number","title":"Profit"},"profit_rate":{"type":"number","title":"Profit Rate"},"change_24h":{"type":"number","title":"Change 24H"},"change_24h_rate":{"type":"number","title":"Change 24H Rate"}},"type":"object","required":["value","profit","profit_rate","change_24h","change_24h_rate"],"title":"TotalAssets","description":"ì´ìì‚° ìš”ì•½ ì •ë³´"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"chat","description":"ëŒ€í™” ìƒì„±, íˆìŠ¤í† ë¦¬ ì¡°íšŒ, ìŠ¹ì¸ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ ëª¨ìŒì…ë‹ˆë‹¤."},{"name":"dashboard","description":"ëŒ€ì‹œë³´ë“œ í™”ë©´ì— í•„ìš”í•œ ìì‚° ìš”ì•½, í™œë™ ë¡œê·¸ ë“±ì„ ì œê³µí•©ë‹ˆë‹¤."},{"name":"portfolio","description":"í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½ê³¼ ë¦¬ë°¸ëŸ°ì‹± ë“± ìì‚° ê´€ë¦¬ ê¸°ëŠ¥ì„ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸ì…ë‹ˆë‹¤."},{"name":"stocks","description":"ì¢…ëª© ê²€ìƒ‰ ë° ì‹œì„¸ ì¡°íšŒì™€ ê°™ì€ ì£¼ì‹ ë°ì´í„° ê´€ë ¨ APIì…ë‹ˆë‹¤."},{"name":"settings","description":"ì‚¬ìš©ì ì„¤ì • (ìë™í™” ë ˆë²¨ ë“±)ì„ ê´€ë¦¬í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ì…ë‹ˆë‹¤."},{"name":"artifacts","description":"AI ìƒì„± ì½˜í…ì¸  ì €ì¥ ë° ê´€ë¦¬ (ë¶„ì„ ê²°ê³¼, í¬íŠ¸í´ë¦¬ì˜¤, ì „ëµ ë“±)ë¥¼ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸ì…ë‹ˆë‹¤."},{"name":"approvals","description":"ìŠ¹ì¸ ì´ë ¥ ì¡°íšŒ ë° ê´€ë¦¬ (ë§¤ë§¤, ë¦¬ë°¸ëŸ°ì‹± ë“± HITL ìŠ¹ì¸ ê¸°ë¡)ë¥¼ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸ì…ë‹ˆë‹¤."}]}